{"version":3,"sources":["webpack:///webpack/bootstrap f3b2227222d46a5a0070","webpack:///./lib/entry.js","webpack:///./lib/game.js","webpack:///./lib/board.js","webpack:///./lib/moving_object.js","webpack:///./lib/obstacle.js","webpack:///./lib/ship.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACZD;AACA;;AAEA;AACA,2BAA0B;AAC1B,qCAAoC,+BAA+B;AACnE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAAyC,WAAW;AACpD;AACA,wCAAuC,WAAW;;AAElD;AACA;AACA;AACA,sCAAqC,cAAc;AACnD;AACA,oCAAmC,cAAc;;AAEjD;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAmC,aAAa;AAChD,YAAW;AACX,oCAAmC,gCAAgC;AACnE,YAAW;AACX,oCAAmC,gCAAgC;AACnE,YAAW;AACX,oCAAmC,gCAAgC;AACnE,YAAW;AACX,oCAAmC,gCAAgC;AACnE,YAAW;AACX,oCAAmC,iCAAiC;AACpE,YAAW;AACX,oCAAmC,iCAAiC;AACpE,YAAW;AACX,oCAAmC,iCAAiC;AACpE;AACA;AACA;;AAEA;AACA,4BAA2B,aAAa;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACnJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAqD,aAAa;AAClE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA4C,oBAAoB;AAChE,kDAAiD,oBAAoB;AACrE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B,uBAAuB;AACjD;AACA;AACA;;AAEA;;;;;;;ACpHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4CAA2C,WAAW;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;;;;;;ACvFA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACbA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f3b2227222d46a5a0070\n **/","const Game = require(\"./game\");\nconst Board = require(\"./board\");\nconst Ship = require(\"./ship\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasElement = document.getElementsByTagName(\"canvas\")[0];\n  canvasElement.width = Game.DIMENSION_X;\n  canvasElement.height = Game.DIMENSION_Y;\n\n  const context = canvasElement.getContext(\"2d\");\n  const game = new Game();\n  const board = new Board(game, context).start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/entry.js\n ** module id = 0\n ** module chunks = 0\n **/","const Obstacle = require(\"./obstacle\");\nconst Ship = require(\"./ship\");\n\nclass Game {\n  constructor(options = {}) {\n    this.obstacles = [new Obstacle({ game: this, velocity: [0, 0] })];\n    this.ship = [];\n    this.score = 0;\n    this.topScore = options.topScore || 0;\n\n    this.crash = false;\n    this.playing = false;\n  }\n\n  draw(context) {\n    const background = new Image();\n    background.src = 'http://res.cloudinary.com/dfmvfna21/image/upload/v1479224549/maxresdefault_lpdks4.jpg';\n\n    context.clearRect(0, 0, Game.DIMENSION_X, Game.DIMENSION_Y);\n    background.onload = function(){\n      const pattern = context.createPattern(this, \"repeat\");\n      context.fillStyle = pattern;\n    };\n    context.fillRect(0, 0, Game.DIMENSION_X, Game.DIMENSION_Y);\n\n    context.font = \"30px Sans-serif\";\n    context.strokeStyle = 'white';\n    context.lineWidth = 2;\n    context.strokeText(`Current Score: ${this.score}`, 10, 30);\n    context.fillStyle = 'black';\n    context.fillText(`Current Score: ${this.score}`, 10, 30);\n\n    context.font = \"30px Sans-serif\";\n    context.strokeStyle = 'white';\n    context.lineWidth = 2;\n    context.strokeText(`Top Score: ${this.topScore}`, 760, 30);\n    context.fillStyle = 'black';\n    context.fillText(`Top Score: ${this.topScore}`, 760, 30);\n\n    this.allObjects().forEach((object) => {\n      object.draw(context);\n    });\n  }\n\n  add(object) {\n    if (object instanceof Obstacle) {\n      this.obstacles.push(object);\n    } else if (object instanceof Ship) {\n      this.ship.push(object);\n    }\n  }\n\n  addObstacle(vel) {\n    if (this.obstacles.length === 0 ||\n        this.obstacles[(this.obstacles.length - 1)].pos[0] < 500 &&\n        this.obstacles[(this.obstacles.length - 1)].pos[0] > 490) {\n          if (this.score < 1000) {\n            this.add(new Obstacle({ game: this }));\n          } else if (this.score < 2000) {\n            this.add(new Obstacle({ game: this, velocity: [-6, 0] }));\n          } else if (this.score < 3000) {\n            this.add(new Obstacle({ game: this, velocity: [-7, 0] }));\n          } else if (this.score < 4000) {\n            this.add(new Obstacle({ game: this, velocity: [-8, 0] }));\n          } else if (this.score < 5000) {\n            this.add(new Obstacle({ game: this, velocity: [-9, 0] }));\n          } else if (this.score < 6000) {\n            this.add(new Obstacle({ game: this, velocity: [-10, 0] }));\n          } else if (this.score < 7000) {\n            this.add(new Obstacle({ game: this, velocity: [-11, 0] }));\n          } else if (this.score < 8000) {\n            this.add(new Obstacle({ game: this, velocity: [-12, 0] }));\n          }\n    }\n  }\n\n  addShip() {\n    const ship = new Ship({ game: this });\n    this.add(ship);\n    return ship;\n  }\n\n  removeObstacle() {\n    if (this.obstacles.length > 0 && this.obstacles[0].pos[0] < -50) {\n      this.obstacles.shift();\n    }\n  }\n\n  allObjects() {\n    return [].concat(this.obstacles, this.ship);\n  }\n\n  moveObjects(delta) {\n    this.allObjects().forEach((object) => {\n      object.move(delta);\n    });\n  }\n\n  step(time) {\n    this.moveObjects(time);\n    const crash = this.checkCrash();\n\n    if (crash) {\n      this.crash = true;\n    } else {\n      this.addObstacle();\n      this.removeObstacle();\n      if (this.playing) {\n        this.score += 1;\n      }\n    }\n  }\n\n  checkCrash() {\n    const ship = this.ship[0];\n    let returnValue = false;\n\n    this.obstacles.forEach((obstacle) => {\n      if (obstacle.pos[0] > 249 && obstacle.pos[0] < 398) {\n        if (ship.pos[1] > obstacle.pos[1]\n          && (ship.pos[1] + 100) < (obstacle.pos[1] + 150)) {\n            returnValue = true;\n        } else if ((ship.pos[1] < obstacle.pos[1])\n          && (ship.pos[1] + 70) > (obstacle.pos[1])) {\n            returnValue = true;\n        } else if ((ship.pos[1] < (obstacle.pos[1] + 120))\n          && (ship.pos[1] + 100) > (obstacle.pos[1] + 150)) {\n            returnValue = true;\n        }\n      } else if (ship.pos[1] <= -25 || ship.pos[1] >= 425){\n        returnValue = true;\n      }\n    });\n    return returnValue;\n  }\n\n  randomPosition() {\n    return [\n      999,\n      350 * Math.random()\n    ];\n  }\n}\n\nGame.DIMENSION_X = 1000;\nGame.DIMENSION_Y = 500;\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","const Game = require(\"./game\");\n\nclass Board {\n  constructor(game, context) {\n    this.game = game;\n    this.context = context;\n    this.score = 0;\n    this.entry = true;\n    this.muted = false;\n    this.muteButton = document.getElementById('mute-button');\n\n    this.explosion = new Audio(\"audio/explosion.mp3\");\n    this.title = new Audio(\"audio/title.mp3\");\n    this.gameSong = new Audio(\"audio/gameSong.mp3\");\n    this.loss = new Audio(\"audio/loss.mp3\");\n    this.muteButton.addEventListener(\"click\", () => {this.mute();});\n  }\n\n  handleStart() {\n    document.getElementById('title-screen').style.display = \"none\";\n    document.getElementById('game-over').style.display = \"none\";\n\n    this.entry = false;\n    this.title.pause();\n    this.title.currentTime = 0;\n    this.loss.pause();\n    this.loss.currentTime = 0;\n    this.explosion.pause();\n    this.explosion.currentTime = 0;\n\n    this.gameSong.loop = true;\n    this.gameSong.volume = .10;\n\n    this.gameSong.play();\n    this.game.obstacles.shift();\n    this.game.playing = true;\n  }\n\n  start() {\n    this.game.addShip();\n    this.lastTime = 0;\n\n    if (this.entry) {\n      this.title.loop = true;\n      this.title.volume = .10;\n      this.title.play();\n    } else {\n      this.loss.loop = true;\n      this.loss.volume = .10;\n      this.loss.play();\n    }\n\n    const canvas = document.getElementById( 'game-over');\n    const titleScreen = document.getElementById( 'title-screen');\n    requestAnimationFrame(this.animate.bind(this));\n    canvas.addEventListener(\"click\", () => {this.handleStart();});\n    titleScreen.addEventListener(\"click\", () => {this.handleStart();});\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n    const game = this.game;\n\n    game.step(timeDelta);\n    game.draw(this.context);\n\n    this.lastTime = time;\n\n    if (game.crash) {\n      this.explosion.volume = .10;\n      this.explosion.play();\n      this.gameSong.pause();\n      this.gameSong.currentTime = 0;\n\n      if (game.score > game.topScore) {\n        this.score = game.score;\n      } else {\n        this.score = game.topScore;\n      }\n\n      this.gameOver();\n    } else {\n      requestAnimationFrame(this.animate.bind(this));\n    }\n  }\n\n    mute() {\n      if (this.muted) {\n        this.muted = false;\n        this.title.muted = false;\n        this.gameSong.muted = false;\n        this.explosion.muted = false;\n        this.loss.muted = false;\n        this.muteButton.style.background = \"url(http://res.cloudinary.com/dfmvfna21/image/upload/v1479491798/Speaker_Icon_jyta2z.png)\";\n        console.log(this.muted);\n      } else {\n        this.muted = true;\n        this.title.muted = true;\n        this.gameSong.muted = true;\n        this.explosion.muted = true;\n        this.loss.muted = true;\n        this.muteButton.style.background = \"url(http://res.cloudinary.com/dfmvfna21/image/upload/v1479491799/Mute_Icon_ntn3kg.png)\";\n        console.log(this.muted);\n      }\n    }\n\n  gameOver() {\n    // this.backgroundAudio.pause();\n    // this.gameOverAudio.currentTime = 0;\n    // this.gameOverAudio.play();\n    document.getElementById('game-over').style.display = \"flex\";\n    this.game = new Game({ topScore: this.score });\n    this.start();\n  }\n}\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/board.js\n ** module id = 2\n ** module chunks = 0\n **/","class MovingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.velocity = options.velocity;\n    this.size = options.size;\n    this.image = options.image;\n\n    this.frameIndex = 0;\n    this.tickCount = 0;\n  }\n\n  draw(context) {\n    const img = document.getElementById(`${this.image}`);\n\n    if (img.id === 'falcon') {\n      const imgSprite = this.sprite({\n        context: context,\n        width: 3000,\n        height: 100,\n        image: img,\n        numberOfFrames: 30,\n        ticksPerFrame: 3\n      });\n\n      imgSprite.update();\n      imgSprite.render();\n\n    } else {\n      context.drawImage(\n        img,\n        this.pos[0],\n        this.pos[1],\n        this.size[0],\n        this.size[1]\n      );\n    }\n\n  }\n\n  move(timeDelta) {\n    const scale = timeDelta / NORMAL_TIME_DELTA;\n    const newX = this.velocity[0] * scale;\n    const newY = this.velocity[1] * scale;\n\n    this.pos = [this.pos[0] + newX, this.pos[1] + newY];\n  }\n\n  sprite(options) {\n    let that = {},\n      ticksPerFrame = options.ticksPerFrame || 0,\n      numberOfFrames = options.numberOfFrames || 1;\n\n    that.context = options.context;\n    that.width = options.width;\n    that.height = options.height;\n    that.image = options.image;\n\n    that.update = function () {\n      this.tickCount += 1;\n      if (this.tickCount > ticksPerFrame) {\n        this.tickCount = 0;\n        if (this.frameIndex < numberOfFrames - 1) {\n          this.frameIndex += 1;\n        } else {\n          this.frameIndex = 0;\n        }\n      }\n    }.bind(this);\n\n    that.render = function () {\n      that.context.drawImage(\n        that.image,\n        this.frameIndex * that.width / numberOfFrames,\n        0,\n        that.width / numberOfFrames,\n        that.height,\n        this.pos[0],\n        this.pos[1],\n        that.width / numberOfFrames,\n        that.height);\n    }.bind(this);\n    return that;\n  }\n}\n\nconst NORMAL_TIME_DELTA = 1000/60;\n\nmodule.exports = MovingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/moving_object.js\n ** module id = 3\n ** module chunks = 0\n **/","const MovingObject = require(\"./moving_object\");\n\nclass Obstacle extends MovingObject {\n  constructor(options = {}) {\n  \toptions.image = 'rock';\n    options.pos =  options.pos || options.game.randomPosition();\n    options.size = [50, 150];\n    options.velocity = options.velocity || [-5, 0];\n    super(options);\n  }\n\n}\n\nmodule.exports = Obstacle;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/obstacle.js\n ** module id = 4\n ** module chunks = 0\n **/","const MovingObject = require(\"./moving_object\");\n\nclass Ship extends MovingObject {\n  constructor(options = {}) {\n  \toptions.image = 'falcon';\n    options.pos =  [300, 200];\n    options.size = [100, 100];\n    options.velocity = [0, 0];\n    super(options);\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    window.onkeydown = (event) => {\n      if (event.keyCode === 32) {\n        this.movementUp();\n      }\n    };\n\n    window.onkeyup = (event) => {\n      if (event.keyCode === 32) {\n        this.movementDown();\n      }\n    };\n\n    window.onclickdown = (event) => {\n      if (event.keyCode === 32) {\n        this.movementUp();\n      }\n    };\n\n    window.onclickup = (event) => {\n      if (event.keyCode === 32) {\n        this.movementDown();\n      }\n    };\n  }\n\n  movementUp() {\n    this.velocity = [0, -4];\n  }\n\n  movementDown() {\n    this.velocity = [0, 5];\n  }\n}\n\nmodule.exports = Ship;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/ship.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}